<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "tqdlqz2tqr");
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-REVGJVN658"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-REVGJVN658');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Veggy - Fresh Vegetables & Fruits</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="index-styles.css" />
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="services.html">Services</a>
    <a href="contact.html">Contact</a>
    <a href="cart.html">Cart (<span id="cart-count">0</span>)</a>
  </nav>

  <header class="main-header">
    <div class="header-content">
      <h1 class="logo">Veggy</h1>
      <div class="search-container">
        <input type="text" placeholder="Search for Vegetables and Fruits" class="search-input">
        <button class="search-btn">Search</button>
      </div>
      <div class="cart-info">
        <span class="cart-text">No. of Items: <span id="header-cart-count">0</span></span>
        <span class="cart-total">Sub Total: â‚¹<span id="header-cart-total">0.00</span></span>
        <div class="cart-icon">ðŸ›’</div>
      </div>
    </div>
  </header>

  <main class="products-container">
    <div class="products-grid">
      <!-- Row 1 -->
      <div class="product-card">
        <div class="product-image">
          <img src="images/Apple.jpeg" alt="Apple">
        </div>
        <h3 class="product-name">Apple - 1 Kg</h3>
        <p class="product-price">Rs. 96</p>
        <div class="quantity-controls">
          <button class="qty-btn minus" onclick="decreaseQty('apple')">-</button>
          <span class="qty-display" id="qty-apple">1</span>
          <button class="qty-btn plus" onclick="increaseQty('apple')">+</button>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart('Apple', 96)">ADD TO CART</button>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="images/Banana.jpeg" alt="Banana">
        </div>
        <h3 class="product-name">Banana - 1 Kg</h3>
        <p class="product-price">Rs. 16</p>
        <div class="quantity-controls">
          <button class="qty-btn minus" onclick="decreaseQty('banana')">-</button>
          <span class="qty-display" id="qty-banana">1</span>
          <button class="qty-btn plus" onclick="increaseQty('banana')">+</button>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart('Banana', 16)">ADD TO CART</button>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="images/Brinjal.jpeg" alt="Brinjal">
        </div>
        <h3 class="product-name">Brinjal - 1 Kg</h3>
        <p class="product-price">Rs. 75</p>
        <div class="quantity-controls">
          <button class="qty-btn minus" onclick="decreaseQty('brinjal')">-</button>
          <span class="qty-display" id="qty-brinjal">1</span>
          <button class="qty-btn plus" onclick="increaseQty('brinjal')">+</button>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart('Brinjal', 75)">ADD TO CART</button>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="images/Capsicum.jpeg" alt="Capsicum">
        </div>
        <h3 class="product-name">Capsicum - 1 Kg</h3>
        <p class="product-price">Rs. 22</p>
        <div class="quantity-controls">
          <button class="qty-btn minus" onclick="decreaseQty('capsicum')">-</button>
          <span class="qty-display" id="qty-capsicum">1</span>
          <button class="qty-btn plus" onclick="increaseQty('capsicum')">+</button>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart('Capsicum', 22)">ADD TO CART</button>
      </div>

      <!-- Additional products (rows 2 to 5) -->
      <!-- Copy all product-card divs as in your original code -->
      <!-- (Carrot, Cauliflower, Cucumber, Garlic, Grapes, etc...) -->

      <div class="product-card">
        <div class="product-image">
          <img src="images/Watermelon.jpeg" alt="Watermelon">
        </div>
        <h3 class="product-name">Watermelon - 1 Kg</h3>
        <p class="product-price">Rs. 25</p>
        <div class="quantity-controls">
          <button class="qty-btn minus" onclick="decreaseQty('watermelon')">-</button>
          <span class="qty-display" id="qty-watermelon">1</span>
          <button class="qty-btn plus" onclick="increaseQty('watermelon')">+</button>
        </div>
        <button class="add-to-cart-btn" onclick="addToCart('Watermelon', 25)">ADD TO CART</button>
      </div>
    </div>
  </main>

  <footer>
    <a href="assets/brochure.pdf" download>ðŸ“„ Download Brochure</a>
    <p>&copy; 2024 Veggy Shop - Fresh & Organic</p>
  </footer>

  <script src="script.js"></script>
  <script>
    // Quantity functions
    function increaseQty(productId) {
      const qtyElement = document.getElementById(`qty-${productId}`);
      let currentQty = parseInt(qtyElement.textContent);
      qtyElement.textContent = currentQty + 1;
    }

    function decreaseQty(productId) {
      const qtyElement = document.getElementById(`qty-${productId}`);
      let currentQty = parseInt(qtyElement.textContent);
      if (currentQty > 0) {
        qtyElement.textContent = currentQty - 1;
      }
    }

    // Update cart header
    function updateHeaderCartInfo() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const totalItems = cart.length;
      const totalAmount = cart.reduce((sum, item) => sum + item.price, 0);
      document.getElementById('header-cart-count').textContent = totalItems;
      document.getElementById('header-cart-total').textContent = totalAmount.toFixed(2);
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateHeaderCartInfo();
      const searchBtn = document.querySelector('.search-btn');
      const searchInput = document.querySelector('.search-input');
      const productCards = document.querySelectorAll('.product-card');

      searchBtn.addEventListener('click', () => {
        const searchTerm = searchInput.value.trim().toLowerCase();
        productCards.forEach(card => {
          const productName = card.querySelector('.product-name').textContent.toLowerCase();
          card.style.display = !searchTerm || productName.includes(searchTerm) ? 'block' : 'none';
        });
      });

      searchInput.addEventListener('input', () => {
        if (searchInput.value.trim() === '') {
          productCards.forEach(card => card.style.display = 'block');
        }
      });
    });
  </script>
</body>
</html>
